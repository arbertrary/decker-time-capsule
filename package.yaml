name: decker
version: 0.10.0
license: OtherLicense
author: "Henrik Tramberend"
maintainer: "henrik.tramberend@beuth-hochschule.de"
copyright: "2020 Henrik Tramberend"

build-type: Custom

custom-setup:
  dependencies:
    - base >= 4.7 && < 5
    - binary
    - bytestring
    - Cabal
    - conduit
    - directory
    - extra
    - filepath
    - Glob
    - zip

extra-source-files:
  - readme.md
  - Dockerfile
  - makefile
  - resource/template/*
  - resource/support/css/*
  - resource/support/js/*
  - resource/example/*
  - third-party/symlinks.mk

synopsis: A markdown based tool for slide deck creation
category: Tool

description: Please see the README at <https://gitlab2.informatik.uni-wuerzburg.de/decker/decker#readme>

dependencies:
  - base >= 4.7 && < 5
  - aeson
  - ansi-terminal
  - array
  - base64-bytestring
  - base16-bytestring
  - blaze-html
  - blaze-markup
  - bytestring
  - containers
  - data-default
  - directory
  - doctemplates
  - exceptions
  - extra
  - filepath
  - formatting
  - fsnotify
  - Glob
  - groom
  - hashable
  - HTTP
  - http-client
  - http-conduit
  - http-types
  - lens
  - lens-action
  - lens-aeson
  - listsafe
  - modern-uri
  - monad-loops
  - mtl
  - multimap
  - mustache
  - neat-interpolation
  - network-uri
  - pandoc
  - pandoc-citeproc
  - pandoc-types
  - process
  - pureMD5
  - random
  - relude
  - regex-tdfa
  - scientific
  - shake
  - snap-core
  - snap-server
  - split
  - tagsoup
  - template-haskell
  - text
  - time
  - transformers
  - unordered-containers
  - utf8-string
  - vector
  - websockets
  - websockets-snap
  - wreq
  - yaml
  - zip

ghc-options:
  # - -Wunused-top-binds
  # - -Wunused-local-binds
  # - -Wincomplete-patterns
  # - -Wunused-matches
  - -fwarn-unused-imports

library:
  source-dirs:
    - src
  when:
    - condition: os(windows)
      then:
        source-dirs: src-win
        exposed-modules: "System.Decker.OS"
      else:
        source-dirs: src-unix
        exposed-modules: "System.Decker.OS"

executables:
  decker:
    main: Decker
    source-dirs: app
    ghc-options:
      - -threaded
      - -rtsopts
      - -with-rtsopts=-N
      - -fwarn-unused-imports
    dependencies:
      - decker

tests:
  decker-test:
    main: Spec.hs
    source-dirs: test
    ghc-options:
      - -threaded
      - -rtsopts
      - -with-rtsopts=-N
    dependencies:
      - decker
      - hspec

default-extensions:
  - DeriveDataTypeable
  - DeriveGeneric
  - EmptyCase
  - FlexibleContexts
  - FlexibleInstances
  - GeneralizedNewtypeDeriving
  - InstanceSigs
  - LambdaCase
  - MultiParamTypeClasses
  - MultiWayIf
  - NamedFieldPuns
  - NoMonomorphismRestriction
  - OverloadedStrings
  - QuasiQuotes
  - RecordWildCards
  - ScopedTypeVariables
  - TemplateHaskell
  - TupleSections
